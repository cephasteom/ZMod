<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ZMod</title><meta name="description" content="Documentation for ZMod"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">ZMod</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>ZMod</h1></div><div class="tsd-panel tsd-typography"><h2 id="todo" class="tsd-anchor-link">TODO<a href="#todo" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>expose output bus through the class and provide connect() method. Without args, just to destination.</li>
<li>make tone library a class</li>
<li>Install typedocs and generate docs from library</li>
<li>signals synced to transport</li>
<li><code>ZM.start()</code> starts the transport</li>
<li><code>ZM.stop()</code> stops the transport, letting any reverb tail die away</li>
<li><code>ZM.clear()</code> disposes of all nodes</li>
<li>pan to take values between 0 and 1</li>
<li>Improve external control - integrate into Zen for this.</li>
</ul>
<h2 id="basic-usage" class="tsd-anchor-link">Basic Usage<a href="#basic-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="js"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">ZM</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ZMod</span><span class="hl-1">() </span><br/><br/><span class="hl-4">// pass a line of the Zen Modular scripting language</span><br/><span class="hl-2">ZM</span><span class="hl-1">.</span><span class="hl-3">set</span><span class="hl-1">(</span><span class="hl-5">`sine(100).amp(env(0.1,0.1,0.5,0.8)).pan().out()`</span><span class="hl-1">)</span><br/><span class="hl-2">ZM</span><span class="hl-1">.</span><span class="hl-3">start</span><span class="hl-1">() </span><span class="hl-4">// start the transport</span><br/><span class="hl-2">ZM</span><span class="hl-1">.</span><span class="hl-3">stop</span><span class="hl-1">() </span><span class="hl-4">// stop the transport</span><br/><span class="hl-2">ZM</span><span class="hl-1">.</span><span class="hl-3">clear</span><span class="hl-1">() </span><span class="hl-4">// clear patch and dispose of all resources</span>
</code><button type="button">Copy</button></pre>

<h2 id="external-control" class="tsd-anchor-link">External Control<a href="#external-control" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="js"><span class="hl-4">// pass a string (with or without quotes) as the first argument of a node...</span><br/><span class="hl-2">ZM</span><span class="hl-1">.</span><span class="hl-3">set</span><span class="hl-1">(</span><span class="hl-5">`sine(sig(f)).amp(env(e)).pan().out()`</span><span class="hl-1">)</span><br/><br/><span class="hl-4">// ...to make the node controllable from outside the patch</span><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-2">ZM</span><span class="hl-1">.</span><span class="hl-6">inputs</span><span class="hl-1">)</span><br/><span class="hl-4">// returns {e: ƒ(), f: ƒ()}</span><br/><br/><span class="hl-4">// interact with patch whilst it is running</span><br/><span class="hl-2">ZM</span><span class="hl-1">.</span><span class="hl-6">inputs</span><span class="hl-1">.</span><span class="hl-3">e</span><span class="hl-1">() </span><span class="hl-4">// trigger envelope</span><br/><span class="hl-2">ZM</span><span class="hl-1">.</span><span class="hl-6">inputs</span><span class="hl-1">.</span><span class="hl-3">f</span><span class="hl-1">(</span><span class="hl-7">1000</span><span class="hl-1">, </span><span class="hl-7">1000</span><span class="hl-1">) </span><span class="hl-4">// ramp frequency to 1000Hz over 1s</span><br/><br/><span class="hl-4">// clear patch and dispose of all resources</span><br/><span class="hl-2">ZM</span><span class="hl-1">.</span><span class="hl-3">clear</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<h2 id="routing" class="tsd-anchor-link">Routing<a href="#routing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><!-- TODO: 32 channel audio bus -->
<pre><code class="ts"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">ZM</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ZMod</span><span class="hl-1">() </span><span class="hl-4">// by default connects to destination</span><br/><span class="hl-4">// TODO</span><br/><span class="hl-2">ZM</span><span class="hl-1">.</span><span class="hl-3">disconnect</span><span class="hl-1">() </span><span class="hl-4">// clear routing</span><br/><span class="hl-2">ZM</span><span class="hl-1">.</span><span class="hl-3">connect</span><span class="hl-1">(</span><span class="hl-6">destination</span><span class="hl-1">, [</span><span class="hl-7">0</span><span class="hl-1">,</span><span class="hl-7">1</span><span class="hl-1">], [</span><span class="hl-7">0</span><span class="hl-1">,</span><span class="hl-7">1</span><span class="hl-1">]) </span><span class="hl-4">// dest / node, outputs, inputs</span>
</code><button type="button">Copy</button></pre>

<h2 id="signals" class="tsd-anchor-link">Signals<a href="#signals" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="signal" class="tsd-anchor-link">Signal<a href="#signal" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>sig(value: number): ControlSignal</code></p>
<p>Creates a new <code>ControlSignal</code> with the specified value.</p>
<h3 id="signal-operators" class="tsd-anchor-link">Signal Operators<a href="#signal-operators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Each of the following methods can be applied to a <code>ControlSignal</code>, and passed one or more <code>number</code> arguments:</p>
<pre><code class="ts"><span class="hl-6">ControlSignal</span><span class="hl-1">.</span><span class="hl-3">fn</span><span class="hl-1">(...</span><span class="hl-6">args</span><span class="hl-1">: </span><span class="hl-6">number</span><span class="hl-1">[]): </span><span class="hl-6">ControlSignal</span>
</code><button type="button">Copy</button></pre>

<p>Available functions:</p>
<ul>
<li><code>abs</code></li>
<li><code>add</code></li>
<li><code>multiply</code></li>
<li><code>subtract</code></li>
<li><code>greaterthan</code></li>
<li><code>greaterthanzero</code></li>
<li><code>negate</code></li>
<li><code>gaintoaudio</code></li>
<li><code>audiotogain</code></li>
<li><code>pow</code></li>
<li><code>scale</code></li>
<li><code>scaleexp</code></li>
</ul>
<pre><code class="ts"><span class="hl-3">sine</span><span class="hl-1">(</span><span class="hl-3">lfo</span><span class="hl-1">(</span><span class="hl-7">0.5</span><span class="hl-1">,</span><span class="hl-7">100</span><span class="hl-1">,</span><span class="hl-7">200</span><span class="hl-1">).</span><span class="hl-3">multiply</span><span class="hl-1">(</span><span class="hl-7">2</span><span class="hl-1">)).</span><span class="hl-3">out</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<hr>
<h2 id="oscillators" class="tsd-anchor-link">Oscillators<a href="#oscillators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="basic-waveforms" class="tsd-anchor-link">Basic Waveforms<a href="#basic-waveforms" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-1">(</span><span class="hl-6">freq</span><span class="hl-1">: </span><span class="hl-8">ControlSignal</span><span class="hl-1"> = </span><span class="hl-7">220</span><span class="hl-1">): </span><span class="hl-8">AudioSignal</span>
</code><button type="button">Copy</button></pre>

<ul>
<li><code>sine</code></li>
<li><code>tri</code></li>
<li><code>square</code></li>
<li><code>saw</code></li>
</ul>
<pre><code class="ts"><span class="hl-3">sine</span><span class="hl-1">(</span><span class="hl-7">100</span><span class="hl-1">).</span><span class="hl-3">out</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<h3 id="fm-oscillators" class="tsd-anchor-link">FM Oscillators<a href="#fm-oscillators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-1">(</span><span class="hl-6">freq</span><span class="hl-1">: </span><span class="hl-8">ControlSignal</span><span class="hl-1"> = </span><span class="hl-7">220</span><span class="hl-1">, </span><span class="hl-6">harm</span><span class="hl-1">: </span><span class="hl-8">ControlSignal</span><span class="hl-1"> = </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-6">modi</span><span class="hl-1">: </span><span class="hl-8">ControlSignal</span><span class="hl-1"> = </span><span class="hl-7">1</span><span class="hl-1">): </span><span class="hl-8">AudioSignal</span>
</code><button type="button">Copy</button></pre>

<ul>
<li><code>fm</code></li>
<li><code>fmsine</code></li>
<li><code>fmtri</code></li>
<li><code>fmsquare</code></li>
<li><code>fmsaw</code></li>
</ul>
<pre><code class="ts"><span class="hl-3">fmsaw</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-7">100</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">lfosaw</span><span class="hl-1">(</span><span class="hl-7">0.5</span><span class="hl-1">,</span><span class="hl-7">0.5</span><span class="hl-1">,</span><span class="hl-7">10</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-3">lfosine</span><span class="hl-1">(</span><span class="hl-7">0.25</span><span class="hl-1">,</span><span class="hl-7">1</span><span class="hl-1">,</span><span class="hl-7">10</span><span class="hl-1">)</span><br/><span class="hl-1">).</span><span class="hl-3">out</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<h3 id="am-oscillators" class="tsd-anchor-link">AM Oscillators<a href="#am-oscillators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-1">(</span><span class="hl-6">freq</span><span class="hl-1">: </span><span class="hl-8">ControlSignal</span><span class="hl-1"> = </span><span class="hl-7">220</span><span class="hl-1">, </span><span class="hl-6">harm</span><span class="hl-1">: </span><span class="hl-8">ControlSignal</span><span class="hl-1"> = </span><span class="hl-7">1</span><span class="hl-1">): </span><span class="hl-8">AudioSignal</span>
</code><button type="button">Copy</button></pre>

<ul>
<li><code>am</code></li>
<li><code>amsine</code></li>
<li><code>amtri</code></li>
<li><code>amsquare</code></li>
<li><code>amsaw</code></li>
</ul>
<pre><code class="ts"><span class="hl-3">fmsaw</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-3">lfosaw</span><span class="hl-1">(</span><span class="hl-7">0.125</span><span class="hl-1">,</span><span class="hl-7">100</span><span class="hl-1">,</span><span class="hl-7">1000</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-3">lfosaw</span><span class="hl-1">(</span><span class="hl-7">0.5</span><span class="hl-1">,</span><span class="hl-7">0.5</span><span class="hl-1">,</span><span class="hl-7">10</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-3">lfosine</span><span class="hl-1">(</span><span class="hl-7">0.25</span><span class="hl-1">,</span><span class="hl-7">1</span><span class="hl-1">,</span><span class="hl-7">10</span><span class="hl-1">)</span><br/><span class="hl-1">).</span><span class="hl-3">out</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<h3 id="pulse--pwm" class="tsd-anchor-link">Pulse &amp; PWM<a href="#pulse--pwm" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>pulse(freq: ControlSignal, width: ControlSignal): AudioSignal</code></li>
<li><code>pwm(freq: ControlSignal, modFreq: ControlSignal): AudioSignal</code></li>
</ul>
<pre><code class="ts"><span class="hl-3">pwm</span><span class="hl-1">(</span><span class="hl-7">100</span><span class="hl-1">, </span><span class="hl-3">lfo</span><span class="hl-1">(</span><span class="hl-7">0.125</span><span class="hl-1">,</span><span class="hl-7">0.5</span><span class="hl-1">,</span><span class="hl-7">2</span><span class="hl-1">)).</span><span class="hl-3">out</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<h3 id="fat-oscillators" class="tsd-anchor-link">Fat Oscillators<a href="#fat-oscillators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-1">(</span><span class="hl-6">freq</span><span class="hl-1">: </span><span class="hl-8">ControlSignal</span><span class="hl-1"> = </span><span class="hl-7">220</span><span class="hl-1">, </span><span class="hl-6">spread</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> = </span><span class="hl-7">10</span><span class="hl-1">): </span><span class="hl-8">AudioSignal</span>
</code><button type="button">Copy</button></pre>

<ul>
<li><code>fat</code></li>
<li><code>fatsine</code></li>
<li><code>fattri</code></li>
<li><code>fatsquare</code></li>
<li><code>fatsaw</code></li>
</ul>
<hr>
<h2 id="noise" class="tsd-anchor-link">Noise<a href="#noise" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="ts"><span class="hl-1">(): </span><span class="hl-8">AudioSignal</span>
</code><button type="button">Copy</button></pre>

<ul>
<li><code>white</code></li>
<li><code>pink</code></li>
<li><code>brown</code></li>
</ul>
<hr>
<h2 id="lfos" class="tsd-anchor-link">LFOs<a href="#lfos" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="ts"><span class="hl-1">(</span><span class="hl-6">frequency</span><span class="hl-1">: </span><span class="hl-8">ControlSignal</span><span class="hl-1">, </span><span class="hl-6">min</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-6">max</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1"> = </span><span class="hl-7">1</span><span class="hl-1">): </span><span class="hl-8">ControlSignal</span>
</code><button type="button">Copy</button></pre>

<ul>
<li><code>lfo</code></li>
<li><code>lfosine</code></li>
<li><code>lfotri</code></li>
<li><code>lfosquare</code></li>
<li><code>lfosaw</code></li>
</ul>
<hr>
<h2 id="envelopes" class="tsd-anchor-link">Envelopes<a href="#envelopes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="adsr" class="tsd-anchor-link">adsr<a href="#adsr" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>adsr(attack?: number, decay?: number, sustain?: number, release?: number): ControlSignal</code></p>
<p>Creates a <code>ControlSignal</code> controlled by an adsr envelope (all time values in milliseconds).</p>
<pre><code class="ts"><span class="hl-3">sine</span><span class="hl-1">(</span><span class="hl-7">100</span><span class="hl-1">).</span><span class="hl-3">amp</span><span class="hl-1">(</span><span class="hl-3">env</span><span class="hl-1">()).</span><span class="hl-3">out</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<p>Envelopes must be triggered from outside the patch. See <a href="#basic-usage">Basic Usage</a> above.</p>
<hr>
<h2 id="modifiers" class="tsd-anchor-link">Modifiers<a href="#modifiers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="amp" class="tsd-anchor-link">amp<a href="#amp" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>AudioSignal.amp(value: ControlSignal): Gain</code></p>
<p>Applies gain (amplitude) modulation.</p>
<pre><code class="ts"><span class="hl-3">sine</span><span class="hl-1">(</span><span class="hl-7">100</span><span class="hl-1">).</span><span class="hl-3">amp</span><span class="hl-1">(</span><span class="hl-3">lfo</span><span class="hl-1">()).</span><span class="hl-3">out</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<hr>
<h2 id="filters" class="tsd-anchor-link">Filters<a href="#filters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="ts"><span class="hl-3">saw</span><span class="hl-1">(</span><span class="hl-7">100</span><span class="hl-1">).</span><span class="hl-3">lpf</span><span class="hl-1">(</span><span class="hl-3">lfo</span><span class="hl-1">(</span><span class="hl-7">0.5</span><span class="hl-1">,</span><span class="hl-7">100</span><span class="hl-1">,</span><span class="hl-7">1000</span><span class="hl-1">)).</span><span class="hl-3">out</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<h3 id="hpf" class="tsd-anchor-link">hpf<a href="#hpf" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>AudioSignal.hpf(frequency?: ControlSignal, q?: ControlSignal, rolloff?: FilterRollOff): AudioSignal</code></p>
<p>High-pass filter.</p>
<h3 id="lpf" class="tsd-anchor-link">lpf<a href="#lpf" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>AudioSignal.lpf(frequency?: ControlSignal, q?: ControlSignal, rolloff?: FilterRollOff): AudioSignal</code></p>
<p>Low-pass filter.</p>
<h3 id="bpf" class="tsd-anchor-link">bpf<a href="#bpf" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>AudioSignal.bpf(frequency?: ControlSignal, q?: ControlSignal, rolloff?: FilterRollOff): AudioSignal</code></p>
<p>Band-pass filter.</p>
<h3 id="fbf" class="tsd-anchor-link">fbf<a href="#fbf" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>AudioSignal.fbf(delayTime?: ControlSignal, resonance?: ControlSignal): AudioSignal</code></p>
<p>Feedback comb filter.</p>
<hr>
<h2 id="effects" class="tsd-anchor-link">Effects<a href="#effects" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="reverb" class="tsd-anchor-link">reverb<a href="#reverb" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>AudioSignal.reverb(wet?: ControlSignal, decay?: ControlSignal): AudioSignal</code></p>
<p>Reverb effect.</p>
<h3 id="delay" class="tsd-anchor-link">delay<a href="#delay" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>AudioSignal.delay(wet?: ControlSignal, delayTime?: ControlSignal, feedback?: ControlSignal): AudioSignal</code></p>
<p>Feedback delay effect.</p>
<h3 id="dist" class="tsd-anchor-link">dist<a href="#dist" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>AudioSignal.dist(wet?: ControlSignal, distortion?: ControlSignal): AudioSignal</code></p>
<p>Distortion effect.</p>
<h3 id="chorus" class="tsd-anchor-link">chorus<a href="#chorus" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>AudioSignal.chorus(wet?: ControlSignal, frequency?: ControlSignal, feedback?: ControlSignal, depth?: ControlSignal): AudioSignal</code></p>
<p>Chorus effect.</p>
<hr>
<h2 id="metering" class="tsd-anchor-link">Metering<a href="#metering" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><hr>
<h3 id="follow" class="tsd-anchor-link">follow<a href="#follow" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Envelope follower. In this example, we use the amplitude of the signal in the left channel to modulate the pitch of signal in the right channel.</p>
<pre><code class="ts"><span class="hl-3">stack</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-3">sine</span><span class="hl-1">(</span><span class="hl-7">100</span><span class="hl-1">).</span><span class="hl-3">amp</span><span class="hl-1">(</span><span class="hl-3">lfo</span><span class="hl-1">()).</span><span class="hl-3">out</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-3">sine</span><span class="hl-1">(</span><span class="hl-3">out</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">).</span><span class="hl-3">follow</span><span class="hl-1">().</span><span class="hl-3">multiply</span><span class="hl-1">(</span><span class="hl-7">1000</span><span class="hl-1">).</span><span class="hl-3">add</span><span class="hl-1">(</span><span class="hl-7">100</span><span class="hl-1">)).</span><span class="hl-3">amp</span><span class="hl-1">(</span><span class="hl-7">0.5</span><span class="hl-1">).</span><span class="hl-3">out</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">),</span><br/><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h2 id="routing-1" class="tsd-anchor-link">Routing<a href="#routing-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="pan" class="tsd-anchor-link">pan<a href="#pan" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>AudioSignal.pan(value?: ControlSignal): AudioSignal</code></p>
<p>Stereo panner. Values between -1 and 1. Converts the signal to stereo.</p>
<pre><code class="ts"><span class="hl-3">fm</span><span class="hl-1">(</span><span class="hl-7">100</span><span class="hl-1">).</span><span class="hl-3">pan</span><span class="hl-1">(</span><span class="hl-3">lfo</span><span class="hl-1">(</span><span class="hl-7">0.5</span><span class="hl-1">,-</span><span class="hl-7">1</span><span class="hl-1">,</span><span class="hl-7">1</span><span class="hl-1">)).</span><span class="hl-3">out</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<h3 id="out" class="tsd-anchor-link">out<a href="#out" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>AudioSignal.out(...channels: number[]): AudioSignal</code></p>
<p>When used as a method, connects the parent node to the output bus at the given channel(s). All audio sources are mono until you use <code>pan()</code>.</p>
<pre><code class="ts"><span class="hl-3">sine</span><span class="hl-1">(</span><span class="hl-7">200</span><span class="hl-1">).</span><span class="hl-3">amp</span><span class="hl-1">(</span><span class="hl-7">0.5</span><span class="hl-1">).</span><span class="hl-3">out</span><span class="hl-1">() </span><span class="hl-4">// uses channels 0 and 1 by default, but you only hear 1 channel</span><br/><span class="hl-3">sine</span><span class="hl-1">(</span><span class="hl-7">200</span><span class="hl-1">).</span><span class="hl-3">amp</span><span class="hl-1">(</span><span class="hl-7">0.5</span><span class="hl-1">).</span><span class="hl-3">pan</span><span class="hl-1">().</span><span class="hl-3">out</span><span class="hl-1">() </span><span class="hl-4">// now you hear 2.</span><br/><span class="hl-3">sine</span><span class="hl-1">(</span><span class="hl-7">200</span><span class="hl-1">).</span><span class="hl-3">pan</span><span class="hl-1">(</span><span class="hl-3">lfosquare</span><span class="hl-1">(</span><span class="hl-7">0.5</span><span class="hl-1">,-</span><span class="hl-7">1</span><span class="hl-1">,</span><span class="hl-7">1</span><span class="hl-1">)).</span><span class="hl-3">amp</span><span class="hl-1">(</span><span class="hl-7">0.5</span><span class="hl-1">).</span><span class="hl-3">out</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">,</span><span class="hl-7">1</span><span class="hl-1">) </span><span class="hl-4">// uses channels 0 and 1</span><br/><span class="hl-3">sine</span><span class="hl-1">(</span><span class="hl-7">200</span><span class="hl-1">).</span><span class="hl-3">pan</span><span class="hl-1">(</span><span class="hl-3">lfosquare</span><span class="hl-1">(</span><span class="hl-7">0.5</span><span class="hl-1">,-</span><span class="hl-7">1</span><span class="hl-1">,</span><span class="hl-7">1</span><span class="hl-1">)).</span><span class="hl-3">amp</span><span class="hl-1">(</span><span class="hl-7">0.5</span><span class="hl-1">).</span><span class="hl-3">out</span><span class="hl-1">(</span><span class="hl-7">2</span><span class="hl-1">,</span><span class="hl-7">3</span><span class="hl-1">) </span><span class="hl-4">// use channels 2 and 3... etc.</span>
</code><button type="button">Copy</button></pre>

<p><code>out(...channels: number[]): AudioSignal</code></p>
<p>When used as a function, out() lets you use the given output(s) as a source. A 10ms delay is applied to prevent feedback.</p>
<pre><code class="ts"><span class="hl-3">stack</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-3">sine</span><span class="hl-1">(</span><span class="hl-7">100</span><span class="hl-1">).</span><span class="hl-3">out</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">), </span><span class="hl-4">// mono sine routed to left channel</span><br/><span class="hl-1">    </span><span class="hl-3">out</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">).</span><span class="hl-3">out</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">) </span><span class="hl-4">// use channel 1 as an input and route to right channel</span><br/><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h3 id="stack" class="tsd-anchor-link">stack<a href="#stack" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>(...nodes: AudioSignal[]): AudioSignal</code></p>
<p>Stack multiple audio graphs.</p>
<pre><code class="ts"><span class="hl-3">stack</span><span class="hl-1">(...</span><span class="hl-6">Array</span><span class="hl-1">.</span><span class="hl-3">from</span><span class="hl-1">(</span><span class="hl-3">Array</span><span class="hl-1">(</span><span class="hl-7">10</span><span class="hl-1">).</span><span class="hl-3">keys</span><span class="hl-1">()).</span><span class="hl-3">map</span><span class="hl-1">(</span><span class="hl-6">i</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">sine</span><span class="hl-1">((</span><span class="hl-6">i</span><span class="hl-1">+</span><span class="hl-7">1</span><span class="hl-1">)*</span><span class="hl-7">100</span><span class="hl-1">).</span><span class="hl-3">amp</span><span class="hl-1">(</span><span class="hl-7">0.1</span><span class="hl-1"> / (</span><span class="hl-6">i</span><span class="hl-1">+</span><span class="hl-7">1</span><span class="hl-1">)))).</span><span class="hl-3">pan</span><span class="hl-1">().</span><span class="hl-3">out</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<hr>
<pre><code class="js"><span class="hl-6">s0</span><span class="hl-1">.</span><span class="hl-3">set</span><span class="hl-1">({</span><span class="hl-6">inst:</span><span class="hl-1"> </span><span class="hl-5">&#39;zmod&#39;</span><span class="hl-1">, </span><span class="hl-6">graph:</span><span class="hl-1"> </span><span class="hl-5">&#39;sine(100).amp(env(e)).out()&#39;</span><span class="hl-1">, </span><span class="hl-6">voices:</span><span class="hl-1"> </span><span class="hl-7">4</span><span class="hl-1">})</span><br/><span class="hl-6">s0</span><span class="hl-1">.</span><span class="hl-6">e</span><span class="hl-1">.</span><span class="hl-3">every</span><span class="hl-1">(</span><span class="hl-7">4</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#todo"><span>TODO</span></a><a href="#basic-usage"><span>Basic <wbr/>Usage</span></a><a href="#external-control"><span>External <wbr/>Control</span></a><a href="#routing"><span>Routing</span></a><a href="#signals"><span>Signals</span></a><ul><li><a href="#signal"><span>Signal</span></a></li><li><a href="#signal-operators"><span>Signal <wbr/>Operators</span></a></li></ul><a href="#oscillators"><span>Oscillators</span></a><ul><li><a href="#basic-waveforms"><span>Basic <wbr/>Waveforms</span></a></li><li><a href="#fm-oscillators"><span>FM <wbr/>Oscillators</span></a></li><li><a href="#am-oscillators"><span>AM <wbr/>Oscillators</span></a></li><li><a href="#pulse--pwm"><span>Pulse &amp; <wbr/>PWM</span></a></li><li><a href="#fat-oscillators"><span>Fat <wbr/>Oscillators</span></a></li></ul><a href="#noise"><span>Noise</span></a><a href="#lfos"><span>LF<wbr/>Os</span></a><a href="#envelopes"><span>Envelopes</span></a><ul><li><a href="#adsr"><span>adsr</span></a></li></ul><a href="#modifiers"><span>Modifiers</span></a><ul><li><a href="#amp"><span>amp</span></a></li></ul><a href="#filters"><span>Filters</span></a><ul><li><a href="#hpf"><span>hpf</span></a></li><li><a href="#lpf"><span>lpf</span></a></li><li><a href="#bpf"><span>bpf</span></a></li><li><a href="#fbf"><span>fbf</span></a></li></ul><a href="#effects"><span>Effects</span></a><ul><li><a href="#reverb"><span>reverb</span></a></li><li><a href="#delay"><span>delay</span></a></li><li><a href="#dist"><span>dist</span></a></li><li><a href="#chorus"><span>chorus</span></a></li></ul><a href="#metering"><span>Metering</span></a><ul><li><a href="#follow"><span>follow</span></a></li></ul><a href="#routing-1"><span>Routing</span></a><ul><li><a href="#pan"><span>pan</span></a></li><li><a href="#out"><span>out</span></a></li><li><a href="#stack"><span>stack</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">ZMod</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
